<?php

use Mtsung\TwddLocation\Facade\TwddLocation;
use Tests\TestCase;

class TestLocation extends TestCase
{
    public function testGetCityAndGetDistrict()
    {
        $latLngs = [
            ['25.083211566968', '121.47942926735', '新北市', '蘆洲區'],
            ['22.7254356', '120.2912636', '高雄市', '楠梓區'],
            ['22.999207', '120.22985', '臺南市', '東區'],
            ['24.164075949538', '120.63846185803', '臺中市', '西屯區'],
            ['25.04644955359', '121.50486532599', '臺北市', '萬華區'],
            ['25.028271902683', '121.55158471316', '臺北市', '大安區'],
            ['25.084852', '121.56133', '臺北市', '內湖區'],
            ['25.101767262543', '121.52242105454', '臺北市', '士林區'],
            ['25.08467093506', '121.59821793437', '臺北市', '內湖區'],
            ['22.669285532565', '120.32296702266', '高雄市', '三民區'],
            ['24.164323726849', '120.63875757158', '臺中市', '西屯區'],
            ['25.0473893', '121.2875725', '桃園市', '蘆竹區'],
            ['22.986675752292', '120.19737895578', '臺南市', '南區'],
            ['22.7253167', '120.2906927', '高雄市', '楠梓區'],
            ['25.048532034893', '121.5278679505', '臺北市', '中山區'],
            ['25.036180909217', '121.56363554299', '臺北市', '信義區'],
            ['24.129302978516', '120.6618347168', '臺中市', '南區'],
            ['25.048499534362', '121.50654103607', '臺北市', '萬華區'],
            ['23.013817', '120.211845', '臺南市', '北區'],
            ['22.6307821222', '120.339205826', '高雄市', '苓雅區'],
            ['24.164123363752', '120.63729342073', '臺中市', '西屯區'],
            ['25.032167687535', '121.55665945262', '臺北市', '大安區'],
            ['25.036067962646', '121.45304870605', '新北市', '新莊區'],
            ['22.994316', '120.19962', '臺南市', '中西區'],
            ['25.036220399808', '121.45329885185', '新北市', '新莊區'],
            ['25.016277313232', '121.46894836426', '新北市', '板橋區'],
            ['24.1777281', '120.6739089', '臺中市', '北屯區'],
            ['22.607837677002', '120.29725646973', '高雄市', '前鎮區'],
            ['25.041131973267', '121.57331085205', '臺北市', '信義區'],
            ['25.036190629979', '121.45328074694', '新北市', '新莊區'],
            ['22.997772', '120.1986354', '臺南市', '中西區'],
            ['24.152025438732', '120.72153221816', '臺中市', '太平區'],
            ['25.0294098', '121.4143166', '新北市', '新莊區'],
            ['25.042008975414', '121.44721962512', '新北市', '新莊區'],
            ['25.051060671244', '121.54058095068', '臺北市', '中山區'],
            ['25.047250839235', '121.53021220118', '臺北市', '中山區'],
            ['25.026522951555', '121.55159510672', '臺北市', '大安區'],
            ['25.029158672444', '121.52965061367', '臺北市', '大安區'],
            ['22.989971516915', '120.19533645362', '臺南市', '中西區'],
            ['24.9893608', '121.3481313', '桃園市', '龜山區'],
            ['23.041643889797', '120.24246388106', '臺南市', '永康區'],
            ['24.1777281', '120.6739089', '臺中市', '北屯區'],
            ['24.1777281', '120.6739089', '臺中市', '北屯區'],
            ['25.038856823678', '121.55470076948', '臺北市', '大安區'],
            ['24.154079416577', '120.66701497883', '臺中市', '北區'],
            ['24.936492', '121.199574', '桃園市', '平鎮區'],
            ['25.0448636', '121.547002', '臺北市', '大安區'],
            ['25.061093603922', '121.53043046594', '臺北市', '中山區'],
            ['22.6643614', '120.306282', '高雄市', '左營區'],
            ['25.055063251681', '121.52739152312', '臺北市', '中山區'],
            ['24.160822986523', '120.65362907946', '臺中市', '西屯區'],
            ['23.04342', '120.20531', '臺南市', '安南區'],
            ['25.029322', '121.41434', '新北市', '新莊區'],
            ['24.156570210465', '120.66683292389', '臺中市', '北區'],
            ['25.035720691004', '121.56462863088', '臺北市', '信義區'],
            ['22.663736343384', '120.30303955078', '高雄市', '鼓山區'],
            ['25.0319071', '121.5329651', '臺北市', '大安區'],
            ['25.050533990207', '121.52397740632', '臺北市', '中山區'],
            ['25.031794', '121.5224362', '臺北市', '大安區'],
            ['25.038618062425', '121.55136410147', '臺北市', '大安區'],
            ['25.040042877197', '121.50131225586', '臺北市', '萬華區'],
            ['25.044303894043', '121.55146789551', '臺北市', '大安區'],
            ['22.6554271', '120.2959551', '高雄市', '鼓山區'],
            ['22.6340491', '120.3533058', '高雄市', '鳳山區'],
            ['25.005479812834', '121.51127949357', '新北市', '永和區'],
            ['25.016646089643', '121.46873664111', '新北市', '板橋區'],
            ['24.969047546387', '121.29879760742', '桃園市', '八德區'],
            ['24.164809491343', '120.6394707039', '臺中市', '西屯區'],
            ['24.185118788549', '120.64444251359', '臺中市', '西屯區'],
            ['25.057036550449', '121.56595297158', '臺北市', '松山區'],
            ['24.1160933', '120.6759565', '臺中市', '大里區'],
            ['24.1460838863', '120.677493121', '臺中市', '中區'],
            ['24.176332473755', '120.64373016357', '臺中市', '西屯區'],
            ['22.721080782567', '120.28116613626', '高雄市', '楠梓區'],
            ['24.9994607', '121.3106079', '桃園市', '桃園區'],
            ['25.044387692156', '121.55373282731', '臺北市', '大安區'],
            ['22.616692', '120.306076', '高雄市', '苓雅區'],
            ['25.002436', '121.495166', '新北市', '中和區'],
            ['24.166538712294', '120.65247908235', '臺中市', '西屯區'],
            ['25.0445553', '121.5469562', '臺北市', '大安區'],
            ['25.054304122925', '121.45000457764', '新北市', '新莊區'],
            ['25.021298734431', '121.31135065109', '桃園市', '桃園區'],
            ['25.024084646671', '121.45981326699', '新北市', '板橋區'],
            ['25.042226770706', '121.51123322546', '臺北市', '中正區'],
            ['25.1156292', '121.5329305', '臺北市', '士林區'],
            ['24.1644631', '120.6364943', '臺中市', '西屯區'],
            ['25.079803466797', '121.57141876221', '臺北市', '內湖區'],
            ['22.630918', '120.2951053', '高雄市', '前金區'],
            ['22.677736', '120.30969', '高雄市', '左營區'],
            ['25.066241415971', '121.52390867472', '臺北市', '中山區'],
            ['25.004549421188', '121.4713152498', '新北市', '中和區'],
            ['25.05154391581', '121.55814807862', '臺北市', '松山區'],
            ['24.156499849722', '120.65561793745', '臺中市', '西屯區'],
            ['22.983285765522', '120.18745612353', '臺南市', '南區'],
            ['25.034907178944', '121.56758509576', '臺北市', '信義區'],
            ['24.14611479103', '120.67761942744', '臺中市', '中區'],
            ['25.036091599679', '121.56636603177', '臺北市', '信義區'],
            ['25.028954220786', '121.55387599021', '臺北市', '大安區'],
            ['25.0355075', '121.5677738', '臺北市', '信義區'],
            ['25.0445553', '121.5469562', '臺北市', '大安區'],
            ['22.631027', '120.29501', '高雄市', '前金區'],
            ['22.626652', '120.30194', '高雄市', '新興區'],
            ['25.055950164795', '121.5090637207', '臺北市', '大同區'],
            ['25.04496026617', '121.54455397278', '臺北市', '大安區'],
            ['24.188034402171', '120.65818380564', '臺中市', '北屯區'],
            ['24.178730997648', '120.64578998834', '臺中市', '西屯區'],
            ['25.039127349854', '121.54490661621', '臺北市', '大安區'],
            ['25.034388934318', '121.56744662672', '臺北市', '信義區'],
            ['25.058741331083', '121.45143404603', '新北市', '新莊區'],
            ['22.63087', '120.29562', '高雄市', '前金區'],
            ['24.1531646037', '120.66025919', '臺中市', '西區'],
            ['22.630561444622', '120.31415077275', '高雄市', '新興區'],
            ['24.189900934889', '120.66117882729', '臺中市', '北屯區'],
            ['24.1509874', '120.6629799', '臺中市', '西區'],
            ['25.049690202376', '121.56718175858', '臺北市', '松山區'],
            ['25.044919967651', '121.5502166748', '臺北市', '松山區'],
            ['25.102951049805', '121.52512359619', '臺北市', '士林區'],
            ['24.991752934679', '121.5406929329', '臺北市', '文山區'],
            ['25.0440285', '121.5055721', '臺北市', '萬華區'],
            ['25.0786229', '121.3945739', '新北市', '林口區'],
            ['24.9921594', '121.3063097', '桃園市', '桃園區'],
            ['25.044355392456', '121.55104064941', '臺北市', '大安區'],
            ['22.663904170233', '120.30294600874', '高雄市', '鼓山區'],
            ['24.957215343121', '121.31147872657', '桃園市', '八德區'],
            ['25.049362769825', '121.54741354287', '臺北市', '松山區'],
            ['25.040935485019', '121.5439793095', '臺北市', '大安區'],
            ['25.035546020274', '121.56781610101', '臺北市', '信義區'],
            ['22.6316615', '120.3292743', '高雄市', '苓雅區'],
            ['24.141842862376', '120.68378213793', '臺中市', '中區'],
            ['25.0445553', '121.5469562', '臺北市', '大安區'],
            ['24.159874', '120.653886', '臺中市', '西屯區'],
            ['25.034028045208', '121.56664229929', '臺北市', '信義區'],
            ['25.066408450497', '121.52390297502', '臺北市', '中山區'],
            ['25.034086227417', '121.56723022461', '臺北市', '信義區'],
            ['24.159874', '120.653886', '臺中市', '西屯區'],
            ['25.035341579259', '121.5675958246', '臺北市', '信義區'],
            ['22.634237', '120.30545', '高雄市', '新興區'],
            ['25.0510382', '121.5249688', '臺北市', '中山區'],
            ['25.0387796', '121.5536136', '臺北市', '大安區'],
            ['25.026583407291', '121.55173424631', '臺北市', '大安區'],
            ['25.054864006574', '121.53956908733', '臺北市', '中山區'],
            ['25.0557277', '121.4932999', '新北市', '三重區'],
            ['25.007540808815', '121.46297089756', '新北市', '板橋區'],
            ['25.05046081543', '121.52655792236', '臺北市', '中山區'],
            ['24.99667', '121.4918825', '新北市', '中和區'],
            ['22.621480425774', '120.29990304261', '高雄市', '前金區'],
            ['25.044452087882', '121.55131381005', '臺北市', '大安區'],
            ['24.156909942627', '120.64657592773', '臺中市', '西屯區'],
            ['25.086507797241', '121.56670379639', '臺北市', '內湖區'],
            ['25.005170493336', '121.51163086295', '新北市', '永和區'],
        ];

        foreach ($latLngs as $latLng) {
            $getCity = TwddLocation::getCity($latLng[0], $latLng[1]);
            $this->assertEquals($latLng[2], $getCity['city_name']);

            $getDistrict = TwddLocation::getDistrict($latLng[0], $latLng[1]);
            $this->assertEquals($latLng[3], $getDistrict['district_name']);
        }
    }

    public function testNotTwLocation()
    {
        $getCity = TwddLocation::getCity(35.684869, 139.753540);
        $this->assertNull($getCity);

        $getDistrict = TwddLocation::getDistrict(35.684869, 139.753540);
        $this->assertNull($getDistrict);
    }
}
